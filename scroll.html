<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horizontal Image Scroll</title>
    <style>
        /*
        * CSS Styling
        */
        body {
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            font-family: sans-serif;
        }

        /* The container for the entire scrolling section */
        .scroll-container-wrapper {
            /* Create enough vertical space to scroll against */
            height: 400vh; /* 4 times the viewport height */
            position: relative;
            background-color: #333;
        }

        /* The viewport that 'pins' the horizontal content */
        .sticky-viewport {
            position: sticky;
            top: 0;
            height: 100vh; /* Viewport height for the sticky part */
            overflow: hidden; /* Hide the parts of the image that are off-screen */
        }

        /* The actual content that will be translated horizontally */
        #horizontal-content {
            display: flex; /* Arrange content side-by-side */
            width: 300vw; /* Example: 3 times the viewport width for scrolling */
            height: 100%;
            will-change: transform; /* Hint to the browser for performance */
            /* Add a smooth transition for the transform property */
            transition: transform 0.1s ease-out;
        }

        /* Styling for the image */
        .long-image {
          margin-top: 100px;
            /* Make the image span the entire width of the #horizontal-content */
            width: 100%; 
            height: 60vh; /* Image height is the viewport height */
            object-fit: cover; /* Cover the area without stretching the image */
        }
        
        /* Placeholder for content before and after the scroll section (optional) */
        .spacer {
            height: 50vh;
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            color: #333;
            border-bottom: 5px solid #ccc;
        }
        
        .spacer:last-of-type {
            border-bottom: none;
            border-top: 5px solid #ccc;
        }

    </style>
</head>
<body>
    
    <div class="scroll-container-wrapper">
        <div class="sticky-viewport">
            <div id="horizontal-content">
                <img class="long-image" src="ty.png" alt="A very long image scrollable horizontally">
                
                </div>
        </div>
    </div>
    

<script>document.addEventListener('DOMContentLoaded', () => {
    const wrapper = document.querySelector('.scroll-container-wrapper');
    const content = document.getElementById('horizontal-content');
    const image = document.querySelector('.long-image'); // Select the image element

    // --- Scroll Function ---
    const updateScroll = () => {
        // Total height of the vertical scroll area
        const scrollHeight = wrapper.offsetHeight;
        
        // Vertical position of the scroll relative to the top of the viewport
        const scrollTop = window.scrollY;
        
        // Top position of the wrapper relative to the viewport
        const wrapperTop = wrapper.offsetTop;

        // How far we have scrolled *within* the scroll-container-wrapper
        let scrollProgress = scrollTop - wrapperTop;

        // Max scrollable distance = total height - viewport height
        const maxScrollableDistance = scrollHeight - window.innerHeight;

        // Ensure progress is not negative or exceeding the max distance
        scrollProgress = Math.max(0, Math.min(scrollProgress, maxScrollableDistance));

        // --- Calculate Horizontal Translation ---
        
        // Total width of the horizontal content (which is 300vw in your CSS)
        // If you only have one image, you might want this to be based on the image's width 
        // if the image is wider than 300vw, but for the current setup, we use contentWidth
        const contentWidth = content.offsetWidth; 

        // The maximum distance the content needs to be translated horizontally.
        // (Total Content Width) - (Viewport Width).
        const maxTranslation = contentWidth - window.innerWidth;

        // Calculate the ratio of vertical scroll progress to the max vertical scroll distance (0 to 1).
        const scrollRatio = scrollProgress / maxScrollableDistance;
        
        // Calculate the horizontal translation amount.
        // The translation should go from 0 to -maxTranslation.
        const translateX = -maxTranslation * scrollRatio;

        // --- Calculate Rotation (New Part) ---
        
        // Choose a total rotation amount for the entire scroll
        const totalRotationDegrees = 1800; // e.g., 5 full rotations (5 * 360)
        
        // Calculate the current rotation angle based on the scroll ratio
        const rotateZ = totalRotationDegrees * scrollRatio;

        // Apply the transformation - COMBINE TRANSLATION AND ROTATION
        // We apply the rotation to the image itself, not the #horizontal-content container
        image.style.transform = `rotate(${rotateZ}deg)`;
        
        // Apply the horizontal translation to the #horizontal-content container
        content.style.transform = `translateX(${translateX}px)`;
    };
    
    // Initial call and attach event listeners
    updateScroll();
    window.addEventListener('scroll', updateScroll);
    window.addEventListener('resize', updateScroll); // Recalculate on window resize
});
</script>